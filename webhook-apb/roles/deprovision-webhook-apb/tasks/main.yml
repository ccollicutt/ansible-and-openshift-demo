##############################################################################
## Deprovision webhook
## This role executes much of the needed functionality to deprovision an
## application using an Ansible Playbook Bundle and delete resources created
## in the sample apb generated by the provision role.
##############################################################################


- name: get webhook
  uri:
    url: https://webhook.site/eb1658dc-d339-494a-9482-1a765ee6b699?deprovision=yes


##############################################################################
## Deprovision a route
##############################################################################
#- openshift_v1_route:
#    name: webhook
#    namespace: '{{ namespace }}'
#    state: absent


##############################################################################
## Deprovision a service
##############################################################################
#- k8s_v1_service:
#    name: webhook
#    namespace: '{{ namespace }}'
#    state: absent


##############################################################################
## Deprovision a deployment config
## When removing a Deployment Config, OpenShift will automatically clean up
## its associated resources like replication controllers and pods
##############################################################################
#- openshift_v1_deployment_config:
#    name: webhook
#    namespace: '{{ namespace }}'
#    state: absent
